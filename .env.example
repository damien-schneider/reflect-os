# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║                         REFLECT OS - ENVIRONMENT                           ║
# ║                                                                            ║
# ║  Copy to `.env` in root directory (never commit `.env`)                    ║
# ║  Generate secrets: `openssl rand -base64 32`                               ║
# ╚═══════════════════════════════════════════════════════════════════════════╝

# =============================================================================
# REQUIRED: Core Configuration
# =============================================================================

# PostgreSQL connection (dev uses Docker on port 5430)
ZERO_UPSTREAM_DB="postgresql://user:password@127.0.0.1:5430/postgres"

# Auth secret for session cookies (32+ characters in production)
BETTER_AUTH_SECRET="dev-secret-change-in-production-32chars"

# Your app's public URL
BETTER_AUTH_URL="http://localhost:5173"

# Zero cache server URL (browser WebSocket connection)
VITE_PUBLIC_ZERO_SERVER="http://localhost:4848"

# =============================================================================
# OPTIONAL: Email (Resend)
# =============================================================================
# Without email: users auto-verified, reset URLs logged to console
# To enable: create account at https://resend.com

RESEND_API_KEY=""
EMAIL_FROM_ADDRESS="onboarding@resend.dev"
EMAIL_FROM_NAME="Reflet"
VITE_PUBLIC_REQUIRE_EMAIL_VERIFICATION="false"

# =============================================================================
# OPTIONAL: Billing (Polar)
# =============================================================================
# Without billing: app runs in "free tier only" mode
# To enable: create account at https://polar.sh

POLAR_ENVIRONMENT="sandbox"
POLAR_ACCESS_TOKEN=""
POLAR_WEBHOOK_SECRET=""

# =============================================================================
# DEVELOPMENT: Sensible Defaults (usually no changes needed)
# =============================================================================

# Zero cache local replica
ZERO_REPLICA_FILE="/tmp/reflect_zero_replica.db"
ZERO_LOG_LEVEL="debug"

# Zero endpoints (Vite proxies to backend)
ZERO_QUERY_URL="http://localhost:5173/api/zero/query"
ZERO_MUTATE_URL="http://localhost:5173/api/zero/mutate"
ZERO_QUERY_FORWARD_COOKIES="true"
ZERO_MUTATE_FORWARD_COOKIES="true"

# Internal API (for SSR)
INTERNAL_API_URL="http://localhost:3001"

# Zero auth (can match BETTER_AUTH_SECRET)
ZERO_AUTH_SECRET="dev-secret-change-in-production-32chars"

# Dev flags
DEV_AUTH_ALLOW_UNVERIFIED_SIGNUP="true"
